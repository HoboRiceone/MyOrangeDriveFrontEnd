{"remainingRequest":"/home/hobo/code/odd6871/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hobo/code/odd6871/src/components/subpage/Fileitems/fileitem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hobo/code/odd6871/src/components/subpage/Fileitems/fileitem.vue","mtime":1587636815677},{"path":"/home/hobo/code/odd6871/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hobo/code/odd6871/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hobo/code/odd6871/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/hobo/code/odd6871/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hobo/code/odd6871/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlsZWl0ZW0nLAogIHByb3BzOlsnZmlsZW5hbWUnLCdmaWxlc2l6ZScsJ2ZpbGVpZCcsJ2RpcnByZWlkJywnY3JlYXRlZGRhdGUnXSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZXJhdGlvbnNob3c6ICdub25lJwogICAgfTsKICB9LAogIG1ldGhvZHM6ewogICAgZG93bmxvYWQoKQogICAgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVpZCk7CiAgICAgIHRoaXMuJGFwaS5nZXQoJy9hcGkvZC8nK3RoaXMuZmlsZWlkLAogICAgICB7CiAgICAgICAgJ3gtYXV0aC10b2tlbic6IHRoaXMuQ29tbW9uLnh0b2tlbgogICAgICB9LCAKICAgICAgewogICAgICB9LCByZXNwb25zZSA9PiB7CiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSAKICAgICAgewogICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuZG93bmxvYWQ9IiI7CiAgICAgICAgbGluay5ocmVmID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRfZGF0YS5kb3dubG9hZF91cmw7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICB9IAogICAgICBlbHNlCiAgICAgIHsKICAgICAgICBhbGVydCgiRXJyb3I6IityZXNwb25zZS5kYXRhLm1zZyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZWZpbGUoKQogICAgewogICAgICB0aGlzLiRjb25maXJtKCdUaGlzIG9wZXJhdGlvbiB3aWxsIGRlbGV0ZSB0aGlzIGZpbGU6Jyt0aGlzLmZpbGVuYW1lLCAnRGVsZXRlJywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICdDb25maXJtJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRhcGkuZGVsZXRlKCcvYXBpL2ZpbGVzLycrdGhpcy5maWxlaWQsIAogICAgICAgICAgewogICAgICAgICAgICAneC1hdXRoLXRva2VuJzogdGhpcy5Db21tb24ueHRva2VuCiAgICAgICAgICB9LCAKICAgICAgICAgIHsKICAgICAgICAgIH0sIHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSAKICAgICAgICAgIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7dHlwZTogJ3N1Y2Nlc3MnLG1lc3NhZ2U6ICdTdWNjZXNzISd9KTsKICAgICAgICAgICAgdGhpcy4kYnVzLmVtaXQoJ3VwZGF0ZURpcklEJyx7ZGlySUQ6IHRoaXMuZGlycHJlaWR9KTsKICAgICAgICAgIH0gCiAgICAgICAgICBlbHNlIGlmKHJlc3BvbnNlLnN0YXR1cyA9PSA0MDApCiAgICAgICAgICB7CiAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgICAgICAgCiAgICAgICAgICB9CiAgICAgICAgICBlbHNlCiAgICAgICAgICB7CiAgICAgICAgICAgIGFsZXJ0KCJOZXR3b3JrIEVycm9yIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICdDYW5jZWxlZCcKICAgICAgICB9KTsgICAgICAgICAgCiAgICAgIH0pOwogIH0KICB9Cn0K"},{"version":3,"sources":["fileitem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"fileitem.vue","sourceRoot":"src/components/subpage/Fileitems","sourcesContent":["<template>\n  <div  class=\"fileitem\">\n    <div style=\" margin-left:1.8%;width:30%;float:left;\">\n      <div class=\"fileiteminside\">\n        <i class=\"el-icon-document\"></i>\n        {{filename}}\n      </div>\n    </div>\n\n    <div style=\"width:20%;float:left;font-size:1.2em;text-align: left;\">\n      {{filesize}}\n    </div>\n    <div style=\"width:20%;float:left;font-size:1.2em;text-align: left;\">\n      {{createddate}}\n    </div>\n    <div style=\"float:left;font-size:1.2em;text-align: left;\">\n      <el-button icon=\"el-icon-download\" circle @click=\"download\"></el-button>\n      <el-button icon=\"el-icon-link\" circle></el-button>\n      <el-button icon=\"el-icon-delete\" circle @click=\"deletefile\"></el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'fileitem',\n  props:['filename','filesize','fileid','dirpreid','createddate'],\n  data () {\n    return {\n      operationshow: 'none'\n    };\n  },\n  methods:{\n    download()\n    {\n      console.log(this.fileid);\n      this.$api.get('/api/d/'+this.fileid,\n      {\n        'x-auth-token': this.Common.xtoken\n      }, \n      {\n      }, response => {\n      if (response.status == 200) \n      {\n        var link = document.createElement('a');\n        link.download=\"\";\n        link.href = response.data.result_data.download_url;\n        link.click();\n      } \n      else\n      {\n        alert(\"Error:\"+response.data.msg);\n        console.log(response);\n      }\n      });\n    },\n    deletefile()\n    {\n      this.$confirm('This operation will delete this file:'+this.filename, 'Delete', {\n          confirmButtonText: 'Confirm',\n          cancelButtonText: 'Cancel',\n          type: 'warning'\n        }).then(() => {\n          this.$api.delete('/api/files/'+this.fileid, \n          {\n            'x-auth-token': this.Common.xtoken\n          }, \n          {\n          }, response => {\n          if (response.status == 200) \n          {\n            this.$message({type: 'success',message: 'Success!'});\n            this.$bus.emit('updateDirID',{dirID: this.dirpreid});\n          } \n          else if(response.status == 400)\n          {\n            alert(response.data.msg);\n            \n          }\n          else\n          {\n            alert(\"Network Error\");\n            console.log(response);\n          }\n          });\n        }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: 'Canceled'\n        });          \n      });\n  }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.fileitem\n{\n  padding:0.5%;\n  width:100%;\n  display:inline-block;\n  margin: 0px;\n\n}\n.fileitem:hover\n{\n  background-color:#F5F7FA;\n}\n.fileiteminside\n{\n  font-size:1.2em;\n  display:inline-block;\n  float:left;\n}\n</style>\n"]}]}